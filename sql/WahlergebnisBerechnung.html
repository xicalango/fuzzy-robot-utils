<html><head><title>Wahlergebnis-Berechnung</title><style type="text/css">ol{margin:0;padding:0}.c4{list-style-type:circle;margin:0;padding:0}.c11{max-width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c6{list-style-type:square;margin:0;padding:0}.c2{padding-left:0pt;direction:ltr;margin-left:108pt}.c1{padding-left:0pt;direction:ltr;margin-left:36pt}.c3{list-style-type:decimal;margin:0;padding:0}.c7{padding-left:0pt;margin-left:72pt}.c9{height:11pt;margin-left:36pt}.c5{direction:ltr}.c8{font-weight:bold}.c10{height:11pt}.c0{font-size:13pt}.title{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:36pt;font-family:"Arial";font-weight:bold;padding-bottom:6pt}.subtitle{padding-top:18pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:24pt;font-family:"Georgia";padding-bottom:4pt}li{color:#000000;font-size:11pt;font-family:"Arial"}p{color:#000000;font-size:11pt;margin:0;font-family:"Arial"}h1{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:18pt;font-family:"Arial";font-weight:bold;padding-bottom:6pt}h2{padding-top:18pt;line-height:1.15;text-align:left;color:#000000;font-size:14pt;font-family:"Arial";font-weight:bold;padding-bottom:4pt}h3{padding-top:14pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:"Arial";font-weight:bold;padding-bottom:4pt}h4{padding-top:12pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:"Arial";padding-bottom:2pt}h5{padding-top:11pt;line-height:1.15;text-align:left;color:#666666;font-size:10pt;font-family:"Arial";font-weight:bold;padding-bottom:2pt}h6{padding-top:10pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:10pt;font-family:"Arial";padding-bottom:2pt}</style></head><body class="c11"><p class="c5"><span class="c8 c0">&ldquo;Algorithmus&rdquo; zur Berechung des Wahlergebnisses</span></p><p class="c5 c10"><span class="c0"></span></p><ol class="c3" start="1"><li class="c1"><span class="c0">Auswertung der Zweitstimmen</span></li></ol><ol class="c4" start="1"><li class="c7 c5"><span class="c0">Parteien, die weniger als 5% der Gesamtstimmen erreicht haben und die gleichzeitig weniger als drei Wahlkreise &uuml;ber die Erststimme gewonnen haben, werden im Folgenden nicht ber&uuml;cksichtigt</span></li><li class="c7 c5"><span class="c0">&rarr; Assoziationstabelle zweitstimmen_assoziation </span></li><li class="c7 c5"><span class="c0">View prozent_partei </span></li><li class="c5 c7"><span class="c0">Wende das Saine-Lagune/Scherper Verfahren f&uuml;r die restlichen Parteien an</span></li></ol><ol class="c6" start="1"><li class="c2"><span class="c0">Erstelle dabei eine Tabelle scherper_auswertung (ParteiId, Gewicht). Diese Tabelle enth&auml;lt 598 Eintr&auml;ge f&uuml;r jede Partei. Dabei werden die erhaltenen Stimmen nach dem Saine-Lagune/Scherper Verfahren auf eine bestimmte Weise multipliziert (Multiplikationstabelle scherper_faktoren)</span></li><li class="c2"><span class="c0">Sortiere die Tabelle scherper_auswertung absteigend nach Gewicht. </span></li></ol><ol class="c4" start="5"><li class="c7 c5"><span class="c0">Als Ausgabe wird nun folgende Tabelle sitze_pro_partei erstellt: (ParteiId, Sitze) &rarr; generiert aus der (ParteiId, Gewicht) Tabelle, indem die ersten 598 Eintr&auml;ge dieser ausgewertet werden.</span></li></ol><ol class="c3" start="2"><li class="c1"><span class="c0">Pro Bundesland findet nun die folgende Auswertung statt</span></li></ol><ol class="c4" start="1"><li class="c7 c5"><span class="c0">Die Sitze f&uuml;r jede Partei sollen in einer Tabelle </span><span class="c8 c0">sitze_partei_bundesland </span><span class="c0">abgespeichert werden (ParteiId, Sitze, BundeslandId), dieser Wert kann &uuml;ber folgende Formel errechnet werden: (GesamtsitzePartei) x (AnzahlWahlkreiseProLand x 2) / GesamtsitzeParlament</span></li></ol><ol class="c6" start="1"><li class="c2"><span class="c0">Das Ergebnis der Formel soll kaufm&auml;nnisch auf eine ganze Zahl gerundet werden</span></li></ol><ol class="c3" start="3"><li class="c1"><span class="c0">Die wahl_gewinner Tabelle (KandidatId, Typ[Direktkandidat, Landeslistenkandidat], Bundesland, Partei) soll mit den direkt gew&auml;hlten Kandidaten gef&uuml;llt werden (jener Direktkandidat, der in einem Wahlkreis die meisten Stimmen gewonnen hat - bei Gleichheit entscheidet das Los)</span></li><li class="c1"><span class="c0">Pro Bundesland und f&uuml;r jede Partei findet nun die folgende Auswertung statt (in PHP)</span></li></ol><ol class="c4" start="2"><li class="c7 c5"><span class="c0">Ist die Anzahl an Gewinnern in der Gewinner-Tabelle f&uuml;r das Bundesland gr&ouml;&szlig;er oder gleich der in </span><span class="c8 c0">sitzeParteiBundesland </span><span class="c0">spezifizierten Anzahl der Sitze</span></li></ol><ol class="c6" start="1"><li class="c2"><span class="c0">JA: Weiter zu n&auml;chster Partei/n&auml;chstem Bundesland</span></li><li class="c2"><span class="c0">NEIN: Erg&auml;nze Gewinner-Tabelle, indem die Kandidaten der Landesliste der Partei in der Reihenfolge ihres Auftretens auf der Liste eingef&uuml;gt werden</span></li><li class="c2"><span class="c0">ANMERKUNG: Beim Einf&uuml;gen aus der Landesliste muss gepr&uuml;ft werden, ob der Kandidat bereits durch ein Direktmandat Einzug in den Bundestag gehalten hat. Dies stellt ein Problem dar, da die Ids nicht eindeutig bez&uuml;glich der Kandidatetypen sind. Es muss also wohl auf Name gepr&uuml;ft werden.</span></li></ol><ol class="c3" start="5"><li class="c1"><span class="c0">Folgender Pseudo-Code kann f&uuml;r Punkt 4 angegeben werden:</span></li></ol><p class="c5 c10"><span class="c0"></span></p><p class="c5 c10"><span class="c0"></span></p><p class="c5"><span class="c0 c8">Algorithmus zur Bef&uuml;llung der wahl_gewinner Tabelle mit Landeslistenkandidaten:</span></p><p class="c5"><span class="c0">F&uuml;r jedes Bundesland bland:</span></p><p class="c5"><span class="c0">inserted = 1;</span></p><p class="c5"><span class="c0">F&uuml;r jede Partei p:</span></p><p class="c5"><span class="c0">while(select count(kandidat_id) from wahl_gewinner where land_id = bland.id and partei_id = p.id) &lt; (select sitze from sitze_partei_bundesland where land_id = bland.id and partei_id=p.id)):</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; insert into wahl_gewinner(</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; select k.id, &quot;Landeslistenkandidat&quot;, l.id, p.id from landeskandidat k, landesliste ll, land l, partei p where k.landesliste_id = ll.id and ll.partei_id = p.id, and ll.land_id = l.id and k.listenrang = inserted); &nbsp; &nbsp;</span></p><p class="c5"><span class="c0">&nbsp; &nbsp; inserted++;</span></p><p class="c5 c9"><span></span></p></body></html>